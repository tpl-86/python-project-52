{% extends 'base.html' %}

{% block content %}
<h1 class="my-4">Просмотр задачи</h1>
<div class="card">
  <div class="card-header bg-secondary text-white">
    <h2>{{ task.name }}</h2>
  </div>
  <div class="card-body bg-light">
    <p>Описание {{ task.description }}</p>
    <hr>
    <div class="container">
        <div class="row p-1">
            <div class="col">Автор</div>
            <div class="col">{{ task.author.get_full_name }}</div>
        </div>
        <div class="row p-1">
    <div class="col">Исполнитель</div>
    <div class="col">
      {% if task.executor %}
        {% with full_name=task.executor.get_full_name %}
          {{ full_name|default:task.executor.username }}
      {% endwith %}
      {% else %}
        Нет
      {% endif %}
    </div>
    </div>
        <div class="row p-1">
            <div class="col">Статус</div>
            <div class="col">{{ task.status.name }}</div>
        </div>
        <div class="row p-1">
            <div class="col">Дата создания</div>
            <div class="col">{{ task.created_at|date:"d.m.Y H:i" }}</div>
        </div>
        <div class="row p-1">
        <div class="col">
          <h6>Метки:</h6>
          {% if task.labels.all %}
            <ul>
            {% for label in task.labels.all %}
              <li>{{ label.name }}</li>
            {% endfor %}
            </ul>
          {% endif %}
        </div>
        </div>
         <div class="row p-1">
        <div class="col">
          <a href="{% url 'tasks:task_update' task.pk %}">Изменить</a>
          <br>
          <a href="{% url 'tasks:task_delete' task.pk %}">Удалить</a>
        </div>
      </div>
    </div>
  </div>
</div>
{% endblock %}